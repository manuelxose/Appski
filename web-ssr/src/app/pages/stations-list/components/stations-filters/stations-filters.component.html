<!-- Stations Filters Sidebar -->
<aside class="stations-filters bg-white rounded-xl shadow-lg p-6 sticky top-24">
  <div class="flex items-center justify-between mb-6">
    <h3 class="text-lg font-semibold text-slate-900">
      <span data-i18n="filters.title">Filtros</span>
    </h3>
    <button
      (click)="resetFilters()"
      class="text-sm text-blue-600 hover:text-blue-700 font-medium"
      type="button"
    >
      <span data-i18n="filters.reset">Limpiar</span>
    </button>
  </div>

  <form class="space-y-6">
    <!-- Región -->
    <div class="filter-group">
      <label
        for="region-filter"
        class="block text-sm font-medium text-slate-700 mb-2"
      >
        <span data-i18n="filters.region">Región</span>
      </label>
      <select
        id="region-filter"
        [(ngModel)]="selectedRegion"
        name="region"
        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"
      >
        @for (region of regions; track region.value) {
        <option [value]="region.value">{{ region.label }}</option>
        }
      </select>
    </div>

    <!-- Tipo de estación -->
    <div class="filter-group">
      <label
        for="type-filter"
        class="block text-sm font-medium text-slate-700 mb-2"
      >
        <span data-i18n="filters.type">Tipo de estación</span>
      </label>
      <select
        id="type-filter"
        [(ngModel)]="selectedType"
        name="type"
        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"
      >
        @for (type of stationTypes; track type.value) {
        <option [value]="type.value">{{ type.label }}</option>
        }
      </select>
    </div>

    <!-- Estado -->
    <div class="filter-group">
      <label
        for="status-filter"
        class="block text-sm font-medium text-slate-700 mb-2"
      >
        <span data-i18n="filters.status">Estado</span>
      </label>
      <select
        id="status-filter"
        [(ngModel)]="selectedStatus"
        name="status"
        class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm"
      >
        @for (status of statusOptions; track status.value) {
        <option [value]="status.value">{{ status.label }}</option>
        }
      </select>
    </div>

    <!-- Altitud mínima -->
    <div class="filter-group">
      <label
        for="altitude-filter"
        class="block text-sm font-medium text-slate-700 mb-2"
      >
        <span data-i18n="filters.altitude">Altitud mínima base</span>:
        <span class="text-blue-600 font-semibold">{{ minAltitude }}m</span>
      </label>
      <input
        type="range"
        id="altitude-filter"
        [(ngModel)]="minAltitude"
        name="altitude"
        min="0"
        max="3000"
        step="100"
        class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-600"
      />
      <div class="flex justify-between text-xs text-slate-500 mt-1">
        <span>0m</span>
        <span>3000m</span>
      </div>
    </div>

    <!-- Nieve mínima -->
    <div class="filter-group">
      <label
        for="snow-filter"
        class="block text-sm font-medium text-slate-700 mb-2"
      >
        <span data-i18n="filters.snow">Nieve mínima base</span>:
        <span class="text-blue-600 font-semibold">{{ snowMin }}cm</span>
      </label>
      <input
        type="range"
        id="snow-filter"
        [(ngModel)]="snowMin"
        name="snow"
        min="0"
        max="300"
        step="10"
        class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-blue-600"
      />
      <div class="flex justify-between text-xs text-slate-500 mt-1">
        <span>0cm</span>
        <span>300cm</span>
      </div>
    </div>

    <!-- Servicios -->
    <div class="filter-group">
      <div class="block text-sm font-medium text-slate-700 mb-3">
        <span data-i18n="filters.services">Servicios</span>
      </div>
      <div class="space-y-2">
        @for (service of services; track service.value) {
        <label class="flex items-center cursor-pointer group">
          <input
            type="checkbox"
            [checked]="selectedServices.includes(service.value)"
            (change)="onServiceToggle(service.value)"
            class="w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer"
          />
          <span
            class="ml-2 text-sm text-slate-700 group-hover:text-slate-900"
            >{{ service.label }}</span
          >
        </label>
        }
      </div>
    </div>

    <!-- Botón aplicar -->
    <button
      (click)="applyFilters()"
      type="button"
      class="w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 active:bg-blue-800 transition-colors font-semibold text-sm"
    >
      <span data-i18n="filters.apply">Aplicar filtros</span>
    </button>
  </form>
</aside>
