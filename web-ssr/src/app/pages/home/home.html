<!-- Enhanced Home Page with New Features -->
<div class="font-sans text-slate-900 bg-white min-h-screen scroll-smooth">
  <app-site-header />

  <main class="mt-16 md:mt-20 flex flex-col gap-0">
    <!-- Hero Section -->
    <app-home-hero />

    <!-- Weather Widget as Floating Button & Modal -->
    <button
      (click)="toggleWeatherModal()"
      class="weather-float-button fixed bottom-6 right-6 z-40 bg-gradient-to-br from-blue-500 to-blue-700 text-white p-4 rounded-full shadow-2xl hover:scale-110 transition-all duration-300 group"
      aria-label="Ver tiempo actual"
    >
      <div class="flex items-center gap-2">
        <svg
          class="w-6 h-6 group-hover:rotate-12 transition-transform"
          fill="none"
          stroke="currentColor"
          viewBox="0 0 24 24"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"
          />
        </svg>
        <span class="hidden md:inline font-bold">Tiempo</span>
      </div>
      @if (!showWeatherModal()) {
      <div
        class="absolute -top-1 -right-1 w-3 h-3 bg-green-400 rounded-full animate-pulse"
      ></div>
      }
    </button>

    <!-- Weather Modal Overlay -->
    @if (showWeatherModal()) {
    <div
      class="fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 animate-fade-in"
      (click)="toggleWeatherModal()"
      (keydown.escape)="toggleWeatherModal()"
      role="dialog"
      aria-modal="true"
      tabindex="-1"
    >
      <div
        class="max-w-2xl w-full animate-scale-in"
        (click)="$event.stopPropagation()"
        (keydown)="$event.stopPropagation()"
        role="document"
      >
        <div class="relative">
          <button
            (click)="toggleWeatherModal()"
            class="absolute -top-4 -right-4 z-10 bg-white text-slate-700 rounded-full p-2 shadow-lg hover:bg-slate-100 transition-colors"
            aria-label="Cerrar"
          >
            <svg
              class="w-6 h-6"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M6 18L18 6M6 6l12 12"
              />
            </svg>
          </button>
          <app-weather-widget />
        </div>
      </div>
    </div>
    }

    <!-- Platform Stats -->
    <app-stats-overview />

    <!-- Featured Stations -->
    <app-stations-featured />

    <!-- Features Grid -->
    <app-features-grid />

    <!-- Lodging Carousel -->
    <app-lodging-carousel />

    <!-- Testimonials -->
    <app-testimonials-carousel />

    <!-- Planner Banner -->
    <app-planner-banner />
  </main>

  <app-site-footer />
</div>
