<!-- Lodging Sort Bar -->
<div class="bg-white rounded-xl shadow-lg p-4 mb-6">
  <div
    class="flex flex-col md:flex-row items-start md:items-center justify-between gap-4"
  >
    <!-- Results Count -->
    <div class="text-slate-700">
      <span class="font-semibold text-slate-900">{{ resultsCount() }}</span>
      <span data-i18n="lodging.sort.results"> alojamientos encontrados</span>
    </div>

    <!-- Sort and View Controls -->
    <div class="flex items-center gap-4 w-full md:w-auto">
      <!-- Sort Dropdown -->
      <div class="flex items-center gap-2 flex-1 md:flex-initial">
        <label
          for="sort-select"
          class="text-sm text-slate-600 whitespace-nowrap"
          data-i18n="lodging.sort.sortBy"
        >
          Ordenar por:
        </label>
        <select
          id="sort-select"
          [(ngModel)]="currentSort"
          (ngModelChange)="onSortChange($any($event))"
          class="flex-1 md:w-auto px-4 py-2 bg-white border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent cursor-pointer text-sm"
        >
          @for (option of sortOptions(); track option.value) {
          <option [value]="option.value">
            {{ option.label }}
          </option>
          }
        </select>
      </div>

      <!-- View Mode Toggle -->
      <div class="flex items-center gap-1 bg-gray-100 rounded-lg p-1">
        <!-- Grid View -->
        <button
          (click)="onViewChange('grid')"
          [class.bg-white]="currentView() === 'grid'"
          [class.text-blue-600]="currentView() === 'grid'"
          [class.shadow-sm]="currentView() === 'grid'"
          [class.text-slate-500]="currentView() !== 'grid'"
          class="p-2 rounded-md transition-all duration-200"
          title="Vista Grid"
          aria-label="Vista en cuadrÃ­cula"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"
            />
          </svg>
        </button>

        <!-- List View -->
        <button
          (click)="onViewChange('list')"
          [class.bg-white]="currentView() === 'list'"
          [class.text-blue-600]="currentView() === 'list'"
          [class.shadow-sm]="currentView() === 'list'"
          [class.text-slate-500]="currentView() !== 'list'"
          class="p-2 rounded-md transition-all duration-200"
          title="Vista Lista"
          aria-label="Vista en lista"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4 6h16M4 12h16M4 18h16"
            />
          </svg>
        </button>

        <!-- Map View -->
        <button
          (click)="onViewChange('map')"
          [class.bg-white]="currentView() === 'map'"
          [class.text-blue-600]="currentView() === 'map'"
          [class.shadow-sm]="currentView() === 'map'"
          [class.text-slate-500]="currentView() !== 'map'"
          class="p-2 rounded-md transition-all duration-200"
          title="Vista Mapa"
          aria-label="Vista en mapa"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M9 20l-5.447-2.724A1 1 0 013 16.382V5.618a1 1 0 011.447-.894L9 7m0 13l6-3m-6 3V7m6 10l4.553 2.276A1 1 0 0021 18.382V7.618a1 1 0 00-.553-.894L15 4m0 13V4m0 0L9 7"
            />
          </svg>
        </button>
      </div>
    </div>
  </div>
</div>
