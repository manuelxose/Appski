<!-- Admin Dashboard - Unified Overview -->
<div class="dashboard">
  <!-- Breadcrumbs -->
  <app-admin-breadcrumbs [items]="[{ label: 'Dashboard', icon: '📊' }]" />

  <!-- Page Header -->
  <div class="dashboard-header">
    <div>
      <h1 class="dashboard-title">Panel de Administración</h1>
      <p class="dashboard-subtitle">
        Gestión centralizada de 28 módulos · Plataforma Nieve
      </p>
    </div>
  </div>

  <!-- Quick Stats -->
  <div class="quick-stats">
    @for (stat of quickStats(); track stat.label) {
    <div class="stat-card" [attr.data-color]="stat.color">
      <div class="stat-icon">{{ stat.icon }}</div>
      <div class="stat-content">
        <div class="stat-value">{{ stat.value }}</div>
        <div class="stat-label">{{ stat.label }}</div>
      </div>
    </div>
    }
  </div>

  <!-- Module Groups -->
  <div class="module-groups">
    @for (group of moduleGroups(); track group.id) {
    <div class="module-group">
      <!-- Group Header -->
      <div class="group-header" [attr.data-color]="group.color">
        <div class="group-title-section">
          <div class="group-icon">{{ group.icon }}</div>
          <div>
            <h2 class="group-title">{{ group.name }}</h2>
            <p class="group-description">{{ group.description }}</p>
          </div>
        </div>
        <div class="group-badge">{{ group.modules.length }} módulos</div>
      </div>

      <!-- Modules Grid -->
      <div class="modules-grid">
        @for (module of group.modules; track module.route) {
        <a [routerLink]="module.route" class="module-card">
          <div class="module-card-header">
            <div class="module-icon" [attr.data-color]="module.color">
              {{ module.icon }}
            </div>
            @if (module.count !== undefined) {
            <div class="module-count">{{ module.count }}</div>
            }
          </div>

          <div class="module-card-body">
            <h3 class="module-title">{{ module.title }}</h3>
            <p class="module-description">{{ module.description }}</p>

            @if (module.status) {
            <div class="module-status">
              <span class="status-dot"></span>
              <span class="status-text">{{ module.status }}</span>
            </div>
            }
          </div>

          <div class="module-card-footer">
            <span class="module-link">
              Abrir módulo
              <svg
                class="link-icon"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9 5l7 7-7 7"
                />
              </svg>
            </span>
          </div>
        </a>
        }
      </div>
    </div>
    }
  </div>

  <!-- System Info -->
  <div class="system-info">
    <div class="info-card">
      <div class="info-icon">ℹ️</div>
      <div class="info-content">
        <h3 class="info-title">Estado del Sistema</h3>
        <p class="info-text">
          Todos los módulos operativos · Última actualización: Hoy a las 14:30
        </p>
      </div>
    </div>
  </div>
</div>
