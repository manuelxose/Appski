<!-- Blog Article Page -->
@if (article()) {
<div class="font-sans text-slate-900 bg-gray-50 min-h-screen">
  <app-site-header />

  <!-- Hero Section -->
  <div
    class="relative bg-gradient-to-b from-slate-900 to-slate-800 text-white overflow-hidden"
  >
    <!-- Background Image -->
    <div class="absolute inset-0">
      <img
        [src]="article()!.coverImage"
        [alt]="article()!.title"
        class="w-full h-full object-cover opacity-30"
      />
      <div
        class="absolute inset-0 bg-gradient-to-t from-slate-900 to-transparent"
      ></div>
    </div>

    <!-- Content -->
    <div class="relative container mx-auto px-4 py-12">
      <!-- Breadcrumbs -->
      <nav class="flex items-center gap-2 text-sm mb-6">
        <a href="/" class="hover:underline opacity-75">Inicio</a>
        <span>‚Ä∫</span>
        <a href="/blog" class="hover:underline opacity-75">Blog</a>
        <span>‚Ä∫</span>
        <span>{{ article()!.category }}</span>
      </nav>

      <!-- Category Badge -->
      <div class="mb-4">
        <span
          class="inline-flex items-center px-4 py-2 bg-teal-600 text-white text-sm font-semibold rounded-full"
        >
          {{ article()!.category }}
        </span>
      </div>

      <!-- Title -->
      <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold mb-6 max-w-4xl">
        {{ article()!.title }}
      </h1>

      <!-- Meta Information -->
      <div class="flex flex-wrap items-center gap-6 text-sm">
        <div class="flex items-center gap-3">
          <img
            [src]="article()!.author.avatar"
            [alt]="article()!.author.name"
            class="w-12 h-12 rounded-full object-cover border-2 border-white"
          />
          <div>
            <div class="font-semibold">{{ article()!.author.name }}</div>
            <div class="opacity-75">{{ article()!.publishedAt }}</div>
          </div>
        </div>
        <div class="flex items-center gap-4 opacity-75">
          <span>‚è±Ô∏è {{ article()!.readingTime }} min lectura</span>
          <span>‚Ä¢</span>
          <span>üìÖ {{ article()!.publishedAt }}</span>
        </div>
      </div>

      <!-- Tags -->
      <div class="flex flex-wrap gap-2 mt-6">
        @for (tag of article()!.tags; track tag) {
        <span
          class="px-3 py-1 bg-white/10 backdrop-blur-sm text-white text-xs rounded-full"
        >
          #{{ tag }}
        </span>
        }
      </div>
    </div>
  </div>

  <!-- Main Content -->
  <div class="container mx-auto px-4 py-12">
    <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">
      <!-- Main Article Content -->
      <main class="lg:col-span-8">
        <div class="bg-white rounded-xl shadow-lg p-8 md:p-12">
          <app-article-content [sections]="articleSections()" />

          <!-- Article Footer -->
          <div class="mt-12 pt-8 border-t border-gray-200">
            <div class="flex flex-wrap items-center justify-between gap-4">
              <div class="text-sm text-slate-600">
                ¬øTe ha resultado √∫til este art√≠culo?
              </div>
              <div class="flex gap-2">
                <button
                  class="px-4 py-2 bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors"
                >
                  üëç S√≠ (125)
                </button>
                <button
                  class="px-4 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors"
                >
                  üëé No (3)
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Comments Section -->
        <div class="bg-white rounded-xl shadow-lg p-8 mt-8">
          <h3 class="text-2xl font-bold text-slate-900 mb-6">
            üí¨ Comentarios (12)
          </h3>

          <!-- Comment Form -->
          <div class="mb-8 p-6 bg-gray-50 rounded-lg">
            <textarea
              rows="4"
              placeholder="Deja tu comentario..."
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-teal-500 focus:border-transparent resize-none"
            ></textarea>
            <div class="flex justify-between items-center mt-4">
              <span class="text-sm text-slate-500"
                >Inicia sesi√≥n para comentar</span
              >
              <button
                class="px-6 py-2 bg-teal-600 text-white font-semibold rounded-lg hover:bg-teal-700 transition-colors"
              >
                Publicar
              </button>
            </div>
          </div>

          <!-- Sample Comments -->
          <div class="space-y-6">
            <!-- Comment 1 -->
            <div class="flex gap-4">
              <img
                src="https://i.pravatar.cc/150?img=20"
                alt="Usuario"
                class="w-12 h-12 rounded-full object-cover"
              />
              <div class="flex-1">
                <div class="bg-gray-50 rounded-lg p-4">
                  <div class="flex items-center gap-2 mb-2">
                    <span class="font-semibold text-slate-900">Juan P√©rez</span>
                    <span class="text-xs text-slate-500">Hace 2 d√≠as</span>
                  </div>
                  <p class="text-slate-700">
                    Excelente art√≠culo! Justo lo que necesitaba antes de mi
                    primer viaje a la nieve. Muy bien explicado üëè
                  </p>
                </div>
                <div class="flex gap-4 mt-2 text-sm">
                  <button class="text-slate-600 hover:text-teal-600">
                    üëç 15
                  </button>
                  <button class="text-slate-600 hover:text-teal-600">
                    Responder
                  </button>
                </div>
              </div>
            </div>

            <!-- Comment 2 -->
            <div class="flex gap-4">
              <img
                src="https://i.pravatar.cc/150?img=21"
                alt="Usuario"
                class="w-12 h-12 rounded-full object-cover"
              />
              <div class="flex-1">
                <div class="bg-gray-50 rounded-lg p-4">
                  <div class="flex items-center gap-2 mb-2">
                    <span class="font-semibold text-slate-900"
                      >Ana Mart√≠nez</span
                    >
                    <span class="text-xs text-slate-500">Hace 5 d√≠as</span>
                  </div>
                  <p class="text-slate-700">
                    ¬øPodr√≠as recomendar alguna estaci√≥n espec√≠fica para
                    principiantes en los Pirineos?
                  </p>
                </div>
                <div class="flex gap-4 mt-2 text-sm">
                  <button class="text-slate-600 hover:text-teal-600">
                    üëç 8
                  </button>
                  <button class="text-slate-600 hover:text-teal-600">
                    Responder
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Load More Comments -->
          <div class="text-center mt-8">
            <button
              class="px-6 py-3 bg-gray-100 text-slate-700 font-semibold rounded-lg hover:bg-gray-200 transition-colors"
            >
              Cargar m√°s comentarios (10)
            </button>
          </div>
        </div>

        <!-- Navigation to Previous/Next Articles -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mt-8">
          <a
            href="/blog/articulo-anterior"
            class="group flex items-center gap-4 bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all"
          >
            <div class="text-3xl">‚Üê</div>
            <div>
              <div class="text-xs text-slate-500 mb-1">Art√≠culo Anterior</div>
              <div
                class="font-semibold text-slate-900 group-hover:text-teal-600"
              >
                Mejores Estaciones de Esqu√≠ 2024
              </div>
            </div>
          </a>

          <a
            href="/blog/articulo-siguiente"
            class="group flex items-center gap-4 bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all justify-end text-right"
          >
            <div>
              <div class="text-xs text-slate-500 mb-1">Siguiente Art√≠culo</div>
              <div
                class="font-semibold text-slate-900 group-hover:text-teal-600"
              >
                Seguridad en la Monta√±a
              </div>
            </div>
            <div class="text-3xl">‚Üí</div>
          </a>
        </div>
      </main>

      <!-- Sidebar -->
      <aside class="lg:col-span-4">
        @if (author()) {
        <app-article-sidebar
          [tableOfContents]="tableOfContents()"
          [relatedArticles]="relatedArticles()"
          [author]="author()!"
          [articleUrl]="article()?.slug || ''"
          (scrollToSection)="onScrollToSection($event)"
        />
        }
      </aside>
    </div>
  </div>

  <app-site-footer />
</div>
}
